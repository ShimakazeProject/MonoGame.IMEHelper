<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <TargetFramework Condition="'$(Configuration)' == 'DebugGL' OR '$(Configuration)' == 'ReleaseGL'">net6.0</TargetFramework>
        <TargetFrameworks Condition="'$(Configuration)' == 'DebugDX' OR '$(Configuration)' == 'ReleaseDX'">net6.0-windows;net48</TargetFrameworks>
        <ImplicitUsings>disable</ImplicitUsings>
        <LangVersion>10</LangVersion>
        <Configurations>DebugDX;DebugGL;ReleaseDX;ReleaseGL</Configurations>
        <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
        <PackageRequireLicenseAcceptance>true</PackageRequireLicenseAcceptance>
    </PropertyGroup>

    <PropertyGroup>
        <MonoGameFramework Condition="'$(Configuration)' == 'DebugDX' OR '$(Configuration)' == 'ReleaseDX'">WindowsDX</MonoGameFramework>
        <MonoGameFramework Condition="'$(Configuration)' == 'DebugGL' OR '$(Configuration)' == 'ReleaseGL'">DesktopGL</MonoGameFramework>
        <MonoGameFramework Condition="'$(MonoGameFramework)' == ''">WindowsDX</MonoGameFramework>
        <UseWindowsForms Condition="'$(MonoGameFramework)' == 'WindowsDX'">true</UseWindowsForms>
    </PropertyGroup>

    <PropertyGroup>
        <PackageId>MonoGame.IMEHelper.$(MonoGameFramework)</PackageId>
        <RootNamespace>MonoGame.IMEHelper</RootNamespace>
        <AssemblyName>MonoGame.IMEHelper</AssemblyName>

        <Description>This is a netstandard package with IME implementation of Windows, MacOS and Linux with SDL2.</Description>
        <PackageTags>monogame;</PackageTags>
        <PackageProjectUrl>https://gitlab.com/starry-orbit-studio/extreme-starry/client/MonoGame.IMEHelper.git</PackageProjectUrl>
        <RepositoryUrl>https://gitlab.com/starry-orbit-studio/extreme-starry/client/MonoGame.IMEHelper.git</RepositoryUrl>
        <Authors>frg2089 &amp; ryancheung</Authors>
        <PackageLicenseExpression>MIT</PackageLicenseExpression>
    </PropertyGroup>

    <PropertyGroup>
        <DefineConstants Condition="'$(MonoGameFramework)' == 'WindowsDX'">TRACE;WINDOWSDX</DefineConstants>
        <DefineConstants Condition="'$(MonoGameFramework)' == 'DesktopGL'">TRACE;DESKTOPGL</DefineConstants>
    </PropertyGroup>

    <ItemGroup>
        <Compile Remove="DesktopGL\*.cs" Condition="'$(MonoGameFramework)' == 'WindowsDX'" />
        <Compile Remove="WindowsDX\*.cs" Condition="'$(MonoGameFramework)' == 'DesktopGL'" />
    </ItemGroup>

    <ItemGroup>
        <PackageReference Include="MonoGame.Framework.$(MonoGameFramework)">
            <Version Condition="'$(TargetFrameworkIdentifier)' == '.NETFramework'">3.8.0.1641</Version>
            <Version Condition="'$(TargetFrameworkIdentifier)' != '.NETFramework'">3.8.1.303</Version>
        </PackageReference>
    </ItemGroup>


</Project>
